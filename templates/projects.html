{% extends "base.html" %}

{%- block title -%}
{{ title_macros::title(page_title=section.title, main_title=config.title) }}
{%- endblock -%}

{% block content %}
<div class="posts">
    <p>{{ post_macros::content(page=section, summary=false) }}</p>

    {%- if paginator %}
        {%- set show_pages = paginator.pages -%}
    {% else %}
        {%- set show_pages = section.pages -%}
    {% endif -%}

    {%- for page in show_pages %}
        <div class="post on-list">
            {{ post_macros::header(page=page) }}
            {%- if page.extra.skills -%}
                <img src="https://skillicons.dev/icons?i={{ page.extra.skills }}" />
            {%- endif -%}
            <div class="post-content">
                {{ page.extra.summary | markdown | safe }}
            </div>
        </div>
    {% endfor -%}
    <div class="pagination">
        <div class="pagination__buttons">
        {%- if paginator.previous %}
            <span class="button previous">
                <a href="{{ paginator.previous | safe }}">
                    <span class="button__icon">←</span>&nbsp;
                    <span class="button__text">Newer posts</span>
                </a>
            </span>
        {% endif -%}
        {%- if paginator.next %}
            <span class="button next">
                <a href="{{ paginator.next | safe }}">
                    <span class="button__text">Older posts</span>&nbsp;
                    <span class="button__icon">→</span>
                </a>
            </span>
        {% endif -%}
        </div>
    </div>
</div>
{% endblock content %}


